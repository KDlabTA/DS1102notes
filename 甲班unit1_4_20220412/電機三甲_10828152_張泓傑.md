# DS Note

## Heap
* Heap 可分成 Max/min Heap，Max Heap的root必為最大值，min Heap則為最小值
* Insert
    * 在插入新增資料後，都須和其父節點比較，必須要符合Max或min的規則，違反的話就進行交換
    * 每次交換後，還必須往上檢查其新的父節點是否也符合規則

min Heap / Max Heap

                10
                / \
               /   \              
              /     \                  
             /       \ 
            /         \
           25          15 
         /   \        / \
        30    26     20 29
       /  \   / \    /
      35  40 27 28  22
      
                100
                / \
               /   \              
              /     \                  
             /       \ 
            /         \
           50          80
         /   \        / \
        49    48     79 55
       /  \   / \    /
      35  40 27 28  22

## Deap
* Deap可以同時做到Max及min Heap的效果
* Deap的root為空，並分成左子樹為min Heap，右子樹為Max heap
* Insert
    * 在新增資料後，我們必須先比較新增資料與他在另一樹的對應節點
        * 如果新增資料在Max Heap，比較其mirro位
            * 如果mirro位存在，比較mirro位是否比新增資料大，是的話交換，然後做min Heap的往上比較
            * 如果mirro位存在，比較mirro位是否比新增資料大，否的話不交換，然後做Max Heap的往上比較
            * 如果mirro位不存在，比較mirro位的parent是否比新增資料大...
        * 如果新增資料在min Heap，同上
## min-Max Heap
* 從0層開始，偶數層為min heap，奇數層為Max Heap，可視為兩個tree交錯組合在一起
* 新增資料先判斷新增資料的父節點是否有符合規則
    * 如果有，新增在Max Heap/min時，則做Max Heap/min的往上比較
    * 如果沒有，要先與父節點交換，再對該層做往上比較

## 2-3 Tree
* 特點為一個節點可以放兩個值，一個節點可以最多有3個子節點
* 新增資料時，要先判斷新增資料放在哪個節點
* 找到位置插入後，判斷該節點是否額滿(裡面有3個資料)
    * 如果額滿就要做分裂
        * 分裂規則:
            * 中間值往上，左右變成中間值的子節點
        * 分裂有3種情況
            * 當root滿時，要建立一個新的root往上分裂
            * 當欲分裂的節點不是root時，往上分裂，parent沒有額滿的話就完成了
            * 當欲分裂的節點不是root時，往上分裂，parent也額滿的話，就要繼續往上分裂

## AVL Tree
* 是一個Balance Tree
* 和一般二元樹的差異在於有BF(blance factor)調整樹，保證樹的高度是最佳的。
* BF = 左子樹高 - 右子樹高
* What is Balance:
    abs(BF) < 2
* Insert
    * 新增資料後，檢查節點是否是平衡的
    * 如果有不平衡的，檢查BF和子節點的關係，做相對應的旋轉
        * LL BF > 1 && insert < node->left
        * RR BF < -1 && insert > node->left
        * RL BF < -1 && insert < node->left
        * LR BF > 1 && insert > node->left

## Red-Black Tree
* 紅黑樹保證
    * root為黑色
    * 紅色節點的子節點必為黑色
    * 節點抵達樹葉的黑色節點數量都必須相同
* 如果違反上述規則則進行和AVL相同的旋轉
* 相比AVL，紅黑樹可以執行的較快，但樹的平衡沒有像AVL一樣好